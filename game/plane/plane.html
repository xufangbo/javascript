<html>
  <head>
    <title>codingsprite-plan</title>
    <meta charset="utf-8"/>
  </head>
  <body >
    <canvas id="canvas" width="1200px" height="800px" style="background-color:gray;"/>    
  </body>
  <script src="../sprite.js" ></script>
  <script src="./js/plane.js" ></script>
  <script>
      var stage = new Stage();

        //loading page
        var loadinScene = new Scene();
        var loadingSprite = new Sprite();
        
        loadingSprite.size.width= Math.ceil(stage.context.ctx.measureText("loading 57% ...").width);
        loadingSprite.size.height = stage.fontSize * 2;
        loadingSprite.location.x = stage.getXofMiddle(loadingSprite.size.width);
        loadingSprite.location.y = stage.getYofMiddle(loadingSprite.size.height);
        loadingSprite.addConstume(new ResourceLoadingConstume(loadingSprite));
        loadinScene.sprites.push(loadingSprite);
        stage.addScene(loadinScene);

        //welcome page
        stage.addScene(new WelcomeScene("start.png"));

        //plane page
        var plane = new PlaneScene();
        stage.scenes.push(plane);

        // game over page
        stage.addScene(new GameOverScene());


        var images = [
                    "background.png", "game_pause_nor.png", "m1.png", "start.png",
                    // 敌机1
                    "enemy1.png", "enemy1_down1.png", "enemy1_down2.png", "enemy1_down3.png", "enemy1_down4.png",
                    // 敌机2
                    "enemy2.png", "enemy2_down1.png", "enemy2_down2.png", "enemy2_down3.png", "enemy2_down4.png",
                    // 敌机3
                    "enemy3_n1.png",
                    "enemy3_n2.png",
                    "enemy3_hit.png",
                    "enemy3_down1.png",
                    "enemy3_down2.png",
                    "enemy3_down3.png",
                    "enemy3_down4.png",
                    "enemy3_down5.png",
                    "enemy3_down6.png",
                    // 游戏loading图
                    "game_loading1.png",
                    "game_loading2.png",
                    "game_loading3.png",
                    "game_loading4.png",
                    // 玩家飞机图
                    "hero1.png",
                    "hero2.png",
                    "hero_blowup_n1.png",
                    "hero_blowup_n2.png",
                    "hero_blowup_n3.png",
                    "hero_blowup_n4.png"
                  ];

        stage.addImages("./img/", images);
        stage.addAudios("./res/",[]);

        stage.start();
      
  </script>
</html>
